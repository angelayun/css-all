<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script>
    const reg = /^([^']*')(.*?)('[^']*)$/g;
    const a = "label[key='31.2351970672607|121.473793029785|People's Square']"
    let result = a.replace(reg, function (g0, g1, g2, g3) {
      console.log([g0, g1, g2, g3])
      return g1 + g2.replace(/'/g, "\\'") + g3;
    })
    console.log(result)

    const b = "label[key='31.2351970672607|121.473793029785|People's Square']"
    var arr = b.split('\'')
    var surArr = arr.slice(1, arr.length - 1)
    let result1 = [arr[0], surArr.join("\\'"), arr[arr.length - 1]].join("'")
    console.log(result1)

    var str = "aaabbbcccdddeeefff";
    str = "label[key='31.2351970672607|121.473793029785|People's Square']"
    // str = str.match(/'(\S.*)'/)[1].replace(/'/g, "\\'");
    var arr = str.match(/(.*?)'(\S.*)'(.*)/)
    // console.log(arr)
    console.log([arr[1], arr[2].replace(/'/g, "\\'"), arr[arr.length - 1]].join("'"))


    let str = "label[key='31.2351970672607|121.473793029785|People's Square']"
    let arr = str.match(/(.*?)'(\S.*)'(.*)/)
    let result = [arr[1], arr[2].replace(/'/g, "\\'"), arr[arr.length - 1]].join("'")
    console.log(result)
  </script>
</head>

<body>

</body>

</html>